# Функции системных вызовов

## Display

### print_text

**Номер системного вызова:** `0x0`

**Описание:** Вывод текста

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Адрес строки |
| `ECX`  | Количество байт  |
| `DL`  | X  |
| `DH`  | Y  |
| `SI`  | Цвета символов: младший байт — цвет текста, старший байт — цвет фона  |
| `EDI`  | Индекс устройства вывода  |

**Возвращает:** None

---

### new_line

**Номер системного вызова:** `0x1`

**Описание:** Переход на следующую строку (y += 1)

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:** None

---

### cursor_update

**Номер системного вызова:** `0x2`

**Описание:** Обновить курсор. Перемещает курсор на текущие координаты x и y

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:** None

---

### clear_display

**Номер системного вызова:** `0x3`

**Описание:** Очистить дисплей

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:** None

---

### get_current_symbol

**Номер системного вызова:** `0x4`

**Описание:** Получить текущий символ на экране. Получает символ, на который указывают координаты x и y. Можно задать смещение

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Смещение относительно текущей позиции |
| `EDX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Символ |

---

### delete_current_symbol

**Номер системного вызова:** `0x5`

**Описание:** Удалить текущий символ на экране. Удаляет символ, на который указывают координаты x и y. Можно задать смещение

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Смещение относительно текущей позиции |
| `EDX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Удалённый символ |

---

### set_display_cursor_pos_x

**Номер системного вызова:** `0x200`

**Описание:** Установить позицию курсора по координате X

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Значение координаты |
| `ECX`  | Индекс устройства |

**Возвращает:** None

---

### set_display_cursor_pos_y

**Номер системного вызова:** `0x201`

**Описание:** Установить позицию курсора по координате Y

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Значение координаты |
| `ECX`  | Индекс устройства |

**Возвращает:** None

---

### get_display_cursor_pos_x

**Номер системного вызова:** `0x106`

**Описание:** Получить позицию курсора по координате X

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Позиция курсора по X |

---

### get_display_cursor_pos_y

**Номер системного вызова:** `0x107`

**Описание:** Получить позицию курсора по координате Y

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Позиция курсора по Y |

---

## Storage

### read_sector

**Номер системного вызова:** `0x10`

**Описание:** Читать определённый сектор с диска

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Идентификатор диска |
| `ECX`  | Номер сектора |
| `EDX`  | Адрес куда читать (размер 512 байт) |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | 0 - успешно, -1 - неудача |

---

### write_sector

**Номер системного вызова:** `0x11`

**Описание:** Записать в определённый сектор диска

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Идентификатор диска |
| `ECX`  | Номер сектора |
| `EDX`  | Адрес откуда читать (размер 512 байт) |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | 0 - успешно, -1 - неудача |

---

## Scheduler

### execute_program

**Номер системного вызова:** `0x50`

**Описание:** Указать номер следующей программы для исполнения

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Номер программы |

**Возвращает:** None

---

### get_execute_program

**Номер системного вызова:** `0x100`

**Описание:** Получить номер следующей программы для исполнения

**Аргументы:** None

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Номер программы |

---

## Keyboard

### get_keyboard_buffer

**Номер системного вызова:** `0x101`

**Описание:** Получить адрес буффера клавиатуры

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Адрес буффера клавиатуры |

---

### get_keyboard_buffer_ptr

**Номер системного вызова:** `0x102`

**Описание:** Получить текущий индекс (текущее положение) буфера клавиатуры

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Текущий индекс буфера клавиатуры |

---

### get_keyboard_shift_pressed

**Номер системного вызова:** `0x103`

**Описание:** Получить флаг: нажата ли клавиша Shift

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | 0 - не нажата, 1 - нажата |

---

### get_keyboard_ctrl_pressed

**Номер системного вызова:** `0x104`

**Описание:** Получить флаг: нажата ли клавиша Ctrl

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | 0 - не нажата, 1 - нажата |

---

### get_keyboard_alt_pressed

**Номер системного вызова:** `0x105`

**Описание:** Получить флаг: нажата ли клавиша Alt

**Аргументы:**
| Register  | Description  |
| :-------------: | :------------- |
| `EBX`  | Индекс устройства |

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | 0 - не нажата, 1 - нажата |

---

## Other

### get_ticks

**Номер системного вызова:** `0x108`

**Описание:** Получить количество тиков с момента запуска системы

**Аргументы:** None

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Количество тиков |

---

### get_device_count

**Номер системного вызова:** `0x109`

**Описание:** Получить количество устройств

**Аргументы:** None

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Количество устройств |

---

### get_device_info

**Номер системного вызова:** `0x10A`

**Описание:** Получить адрес массива с устройствами

**Аргументы:** None

**Возвращает:**
| Register  | Description  |
| :-------------: | :------------- |
| `EAX`  | Адрес массива |

---


